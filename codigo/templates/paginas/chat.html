{% extends "menuDos.html" %}
<!-- envia nombre de pagina -->
{% block titulo %} Consultas {% endblock %}

<!-- envia cuerpo de pagina -->
{% block contenido %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
<script src="{% static 'eventos.js' %}"></script>

<!-- contenedor principal-->
<div class="text-center p-3 container-fluid ">

    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-dark">
                    <h1 class="modal-title fs-5 text-white" id="staticBackdropLabel">Desarrollo K&S</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-info">
                    <img src="{% static 'imagenes/dac.png' %}" class=" img-fluid rounded border" alt="logo"
                        width="120px">
                    <h5>Escuchando...</h5>
                    <h5>Muchas gracias por consultar!!!</h5>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-dark">
                    <h1 class="modal-title fs-5 text-white" id="staticBackdropLabel">Desarrollo K&S</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body bg-info">
                    <img src="{% static 'imagenes/dac.png' %}" class=" img-fluid rounded border" alt="logo"
                        width="120px">
                    <h5>Generando respuesta...</h5>
                    <h5>Muchas gracias por tu Consultas!!!</h5>
                </div>
            </div>
        </div>
    </div>

    <h5 class="text-start h4 pb-2 mb-4 text-danger border-bottom border-danger font-monospace">ChatBot</h5>
    <h1 class="text-white font-monospace">Consultas Frecuentes</h1>

    <!-- contenedor de respuesta -->
    <div class=" mx-4 mt-3 mb-3">

        <!-- input de entrada, usuario-->
        <div class="input-group mb-3">
            <!-- imagen del input -->
            <span class="input-group-text bg-secondary" id="basic-addon1">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                    class="bi bi-person-fill text-white" viewBox="0 0 16 16">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                </svg>
            </span>
            <!-- texto de entrada -->
            <textarea type="text" class="form-control bg-secondary" value="{{preguntaRealizada}}" aria-label="Username"
                aria-describedby="basic-addon1" id="usuarioPregunta" disabled
                style="resize: initial;"> {{preguntaRealizada}} </textarea>
            <!-- boton del input -->
            {% if preguntaRealizada %}
            <button class="btn btn-outline-primary" type="input" id="button-addon1" onclick="reproducirTextoPregunta()">
                <!-- imagen del boton -->
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ear"
                    viewBox="0 0 16 16">
                    <path
                        d="M8.5 1A4.5 4.5 0 0 0 4 5.5v7.047a2.453 2.453 0 0 0 4.75.861l.512-1.363a5.553 5.553 0 0 1 .816-1.46l2.008-2.581A4.34 4.34 0 0 0 8.66 1H8.5ZM3 5.5A5.5 5.5 0 0 1 8.5 0h.16a5.34 5.34 0 0 1 4.215 8.618l-2.008 2.581a4.555 4.555 0 0 0-.67 1.197l-.51 1.363A3.453 3.453 0 0 1 3 12.547V5.5ZM8.5 4A1.5 1.5 0 0 0 7 5.5v2.695c.112-.06.223-.123.332-.192.327-.208.577-.44.72-.727a.5.5 0 1 1 .895.448c-.256.513-.673.865-1.079 1.123A8.538 8.538 0 0 1 7 9.313V11.5a.5.5 0 0 1-1 0v-6a2.5 2.5 0 0 1 5 0V6a.5.5 0 0 1-1 0v-.5A1.5 1.5 0 0 0 8.5 4Z" />
                </svg>
            </button>
            {% endif %}
        </div>

        <!-- texto de respuesta -->
        <div class="ms-3 ">
            <div class="input-group mb-3">
                <span class="input-group-text bg-secondary" id="basic-addon1">
                    <!-- Imagen de la respuesta -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                        class="bi bi-robot text-white" viewBox="0 0 16 16">
                        <path
                            d="M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z" />
                        <path
                            d="M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z" />
                    </svg>
                </span>
                <!-- texto de respuesta -->
                <textarea type="text" class="form-control bg-secondary text-break" value="{{respuestaBot}}"
                    aria-label="Username" aria-describedby="basic-addon1" id="respuestaBotAudio"
                    disabled>{{respuestaBot}}</textarea>
                {% if respuestaBot %}
                <script>reproducirTexto()</script>
                <button class="btn btn-outline-primary" type="input" id="button-addon1" onclick="reproducirTexto()">
                    <!-- imagen del boton -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ear"
                        viewBox="0 0 16 16">
                        <path
                            d="M8.5 1A4.5 4.5 0 0 0 4 5.5v7.047a2.453 2.453 0 0 0 4.75.861l.512-1.363a5.553 5.553 0 0 1 .816-1.46l2.008-2.581A4.34 4.34 0 0 0 8.66 1H8.5ZM3 5.5A5.5 5.5 0 0 1 8.5 0h.16a5.34 5.34 0 0 1 4.215 8.618l-2.008 2.581a4.555 4.555 0 0 0-.67 1.197l-.51 1.363A3.453 3.453 0 0 1 3 12.547V5.5ZM8.5 4A1.5 1.5 0 0 0 7 5.5v2.695c.112-.06.223-.123.332-.192.327-.208.577-.44.72-.727a.5.5 0 1 1 .895.448c-.256.513-.673.865-1.079 1.123A8.538 8.538 0 0 1 7 9.313V11.5a.5.5 0 0 1-1 0v-6a2.5 2.5 0 0 1 5 0V6a.5.5 0 0 1-1 0v-.5A1.5 1.5 0 0 0 8.5 4Z" />
                    </svg>
                </button>
                {% endif %}
            </div>

        </div>
    </div>

    <!-- contenedor de entrada de pregunta-->
    <div class="container-fluid">
        <!-- input de entrada, usuario-->
        <div class="input-group mb-3">
            <!-- imagen del input -->



            <!-- texto de entrada -->

            <form method="post" action="{% url 'nuevo' %}" class="d-flex container-fluid">

                {% csrf_token %}
                <a class="btn btn-outline-primary d-flex align-items-center" type="input" id="button-addon1"
                    onclick="mostrar_modal_escuchar()" href="{% url 'vozToTexto' %}?texto={{ pregunta }}">
                    <!-- imagen del boton -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-mic"
                        viewBox="0 0 16 16">
                        <path
                            d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z" />
                        <path
                            d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0v5zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3z" />
                    </svg>
                </a>

                <textarea type="text" class="form-control" placeholder="Realiza tu pregunta..." aria-label="Username"
                    aria-describedby="basic-addon1" required value="{{ texto }}" id="preguntaRealizada" name="pregunta"
                    size="20">{{ texto }}</textarea>

                <button class="btn btn-outline-primary" type="submit" id="button-addon2"
                    onclick="mostrar_modal_escuchar_respuesta()">
                    <!-- imagen del botón -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-send" viewBox="0 0 16 16">
                        <path
                            d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z" />
                    </svg>
                </button>

            </form>

        </div>
    </div>

    <div id="mensaje"></div>
    <h5 class="text-white font-monospace mt-5">
        ¡Bienvenido! Estás interactuando con nuestro chatbot básico de soporte. Esta es una versión sencilla con respuestas limitadas.
    </h5>
    
    <h6 class="text-white font-monospace">Ejemplo de Consultas Frecuentes que pueden ser evacuadas por nuestro ChatBot por voz o texto.
    </h6>
    
    <div class="d-flex justify-content-center">
        <ul class="text-white font-monospace" style="text-align: justify;">
            <li class="mb-2">¿Cuánto tiempo tomará diseñar y desarrollar mi página web?</li>
            <li class="mb-2">¿Cuál es el costo asociado con el diseño y desarrollo de una página web?</li>
            <li class="mb-2">¿Ofrecen servicios de alojamiento y registro de dominio?</li>
            <li class="mb-2">¿Cómo puedo realizar actualizaciones y modificaciones en mi sitio web una vez que esté
                terminado?</li>
            <li class="mb-2">¿Pueden garantizar que mi página web estará optimizada para los motores de búsqueda (SEO)?
            </li>
            <li class="mb-2">¿Cuál es su enfoque para crear un diseño web que refleje mi marca y atraiga a mi audiencia
                objetivo?</li>
            <li class="mb-2">¿Cuál es su experiencia en la creación de páginas web en mi industria o nicho específico?
            </li>
            <li class="mb-2">¿Ofrecen servicios de diseño responsive para que mi página web se vea bien en dispositivos
                móviles?</li>
            <li class="mb-2">¿Proporcionan servicios de mantenimiento y actualización a largo plazo para mi sitio web?
            </li>
            <li class="mb-2">¿Proporcionan servicios de mantenimiento y actualización a largo plazo para mi sitio web?
            </li>
            <li>¿Cómo será el proceso de colaboración y comunicación durante el desarrollo de mi página web?</li>
        </ul>
    </div>
</div>


<script>
    function mostrar_modal_escuchar() {
        const myModal = new bootstrap.Modal(document.getElementById('staticBackdrop'), { focus: false })
        myModal.show();
    }
    function mostrar_modal_escuchar_respuesta() {
        const myModal = new bootstrap.Modal(document.getElementById('staticBackdrop2'), { focus: false })
        myModal.show();
        setTimeout(function () {
            myModal.hide();
        }, 10000);
    }
</script>
{% endblock %}